<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>掼蛋计分器 - 现代模块化版</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="app-header">
      <h1>掼蛋计分器</h1>
      <div class="header-controls">
        <select id="modeSelect" class="mode-select">
          <option value="4">4人局</option>
          <option value="6">6人局</option>
          <option value="8" selected>8人局</option>
        </select>
        <select id="roundLevel" class="round-level-select">
          <option value="2">A</option>
          <option value="3">K</option>
          <option value="4">Q</option>
          <option value="5">J</option>
          <option value="6">10</option>
          <option value="7">9</option>
          <option value="8">8</option>
          <option value="9">7</option>
          <option value="10">6</option>
          <option value="11">5</option>
          <option value="12">4</option>
          <option value="13">3</option>
          <option value="14">2</option>
        </select>
        <label class="auto-apply-label">
          <input type="checkbox" id="autoApplyCheckbox">
          <span>自动应用结果</span>
        </label>
      </div>
    </header>

    <!-- Main Content -->
    <main class="app-main">
      <!-- Teams Section -->
      <section class="teams-section">
        <div class="team-container team-1" id="team1Container">
          <!-- Team 1 content rendered by JS -->
        </div>
        <div class="team-container team-2" id="team2Container">
          <!-- Team 2 content rendered by JS -->
        </div>
      </section>

      <!-- Players Pool -->
      <section class="players-section">
        <div class="section-header">
          <h2>玩家池</h2>
          <button id="addPlayerBtn" class="btn btn-add">添加玩家</button>
        </div>
        <div id="playerPool" class="player-pool">
          <!-- Player tiles rendered by JS -->
        </div>
      </section>

      <!-- Ranking Area -->
      <section class="ranking-section">
        <div class="section-header">
          <h2>排名</h2>
          <div class="ranking-info">将玩家拖拽到对应的排名位置</div>
        </div>
        <div id="rankingArea" class="ranking-area">
          <!-- Ranking slots rendered by JS -->
        </div>
      </section>

      <!-- Actions -->
      <section class="actions-section">
        <button id="calculateBtn" class="btn btn-primary">计算分数</button>
        <button id="applyResultBtn" class="btn btn-success">应用结果</button>
        <button id="clearAllBtn" class="btn btn-danger">清除所有</button>
      </section>

      <!-- Results -->
      <section id="results" class="results-section" style="display: none;">
        <!-- Results rendered by JS -->
      </section>

      <!-- Export Options -->
      <section class="export-section">
        <h3>导出选项</h3>
        <div class="export-buttons">
          <button id="exportPNGBtn" class="btn btn-export">导出为图片</button>
          <button id="exportCSVBtn" class="btn btn-export">导出为CSV</button>
          <button id="exportJSONBtn" class="btn btn-export">导出游戏数据</button>
          <button id="shareBtn" class="btn btn-export" style="display: none;">分享结果</button>
          <button id="importJSONBtn" class="btn btn-export">导入游戏数据</button>
          <input type="file" id="importJSONInput" accept=".json" style="display: none;">
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      <p>&copy; 2024 掼蛋计分器 - 模块化版本</p>
      <p>
        <a href="https://github.com/xingfanxia/guandan_calc" target="_blank">GitHub</a>
        |
        <a href="#" onclick="alert('版本: 2.0.0\n模块化重构版')">关于</a>
      </p>
    </footer>
  </div>

  <!-- Load the main app module -->
  <script type="module" src="/src/app.js"></script>
</body>
</html>